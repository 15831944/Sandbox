<!DOCTYPE html>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="edit-Type" edit="text/html; charset=utf-8">


<!-- Update the path to raphael js -->
<script type="text/javascript"src="raphael-min.js"></script>
<script type='text/javascript' src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.0/jquery-ui.min.js"></script>
<style type='text/css'>
svg {
    border: solid 1px #000;
}
</style>

</head>
<body>
<div id="paper"></div>
<script type='text/javascript'>
    String.prototype.format = function () {
        var formatted = this;
        for (arg in arguments) {
            formatted = formatted.replace("{" + arg + "}", arguments[arg]);
        }
        return formatted;
    };

    var startX, startY,endX,endY;
    $(document).ready(function () {
        var paper = Raphael("paper", 300, 400);
        $("#paper").dblclick(function (event) {
            startX = event.clientX;
            startY = event.clientY;
            var str = "ClientX={0};ClientY={1}".format(event.clientX, event.clientY);
            console.log(str);
        });
        $("#paper").mousemove(function (event) {
            paper.clear();
            endX = event.clientX;
            endY = event.clientY;
            paper.path("M{0} {1}L{2} {3}", startX, startY, endX, endY);
        });
    });
</script>
</body>
</html>